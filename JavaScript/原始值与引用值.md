### 一、原始值和引用的概念

在 ECMAScript 中，变量可以存在两种类型的值，即原始值和引用值。

在 ECMAScript 中，变量可以存在两种类型的值，即原始值和引用值。

+ **原始值**
1. 原始值指的是 原始类型 的值，也叫 基本类型，例如 Number、Stirng、Boolean、Null、Underfined 
  
2. 存储在栈（stack）中的简单数据段，也就是，它们的值直接存储在变量访问的位置
  3. 注意 在许多语言中，字符串都被看作引用类型，而非原始类型，因为字符串的长度是可变的。ECMAScript 打破了这一传统。
  
+ **引用值**

  1. 引用值指的是 引用类型的值，例如Object、Function、Array、Date、RegExp

  2. 存储在堆（heap）中的对象，也就是说，存储在变量处的值是一个指针（point）,指向存储对象内存处。

### 二、栈和堆

1. **原始值存储在栈中**
    为变量赋值时，ECMAScript 的解释程序必须判断该值是原始类型，还是引用类型。要实现这一点，解释程序则需尝试判断该值是否为 ECMAScript 的原始类型之一，即 Undefined、Null、Boolean、Number 和 String 型。由于这些原始类型占据的空间是固定的，所以可将他们存储在较小的内存区域 - 栈中。这样存储便于迅速查寻变量的值。

2. **引用值存储在堆中**
    如果一个值是引用类型的，那么它的存储空间将从堆中分配。由于引用值的大小会改变，所以不能把它放在栈中，否则会降低变量查寻的速度。相反，放在变量的栈空间中的值是该对象存储在堆中的地址。地址的大小是固定的，所以把它存储在栈中对变量性能无任何负面影响。

3. 图示

  ![](https://gitee.com/xu_yu_chun/kedou/raw/master/static/20200402104108.png)

  ### 三、原始值和引用值的不同

  1. 赋值方式不同

     原始值是以__值__的拷贝方式赋值，值是不可变的。

     引用值是以__引用__的拷贝方式赋值，值是可变的。

     （1）原始值赋值 → 其实是将值拷贝一份并赋值给新的变量，这个值就是副本，他和原始值是互相独立的，改变其中一个值不会影响到其他的值。
     （2）引用值赋值 → 当一个引用类型，例如一个对象，使用 = 将其赋值给另一个变量，实际上是其对象的地址引用赋值给新的变量，这两个变量都指向同一个地址引用，他们有相同的地址。所以若改变其中一个变量（的地址引用指向的对象），另一个变量（的地址引用指向的同一个对象）也将改变

  2. 比较方式不同

原始值的比较是 值 的比较

  引用值的比较是 引用 的比较

```javascript
  // 始值
  const a=1
  const b =true
  console.log(a==b) // true
  console.log(a===b) // false
  // 引用值
  const obj1 = {}
  const obj2 = {}
  console.log(obj1 == obj2) // false
  console.log(obj1 === obj2) //false
```

> （1）原始值 a 和 b 的数据类型不同，但也可以进行值的比较。（在值比较之前，自动进行了数据类型的 隐式转换）
>
> - == → 只比较值
> - === → 不仅比较值，还比较数据类型
>
> （2）引用值 obj1 和 obj2 分别引用的是存放在堆内存中的两个不同的对象，所以 obj1 和 obj2 的值（地址引用）不一样。





